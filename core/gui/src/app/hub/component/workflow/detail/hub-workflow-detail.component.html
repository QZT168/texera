<button
  *ngIf="!screenshot"
  nz-button
  nzType="text"
  nzSize="large"
  class="go-back-button"
  (click)="goBack()">
    <span
      nz-icon
      nzType="arrow-left"
      nzTheme="outline"></span>
</button>

<div class="container prevent-select">
  <div class="header-info">
    <div class="detail-title">
      <h1>Workflow Detail Page</h1>
      <div class="id-container">
        <h2>#{{ wid }}</h2>
      </div>
    </div>
    <div class="workflow-panel">
      <button *ngIf="!this.isWorkspace" (click)="cloneWorkflow()" class="clone-button">Copy & Edit</button>
    </div>
  </div>

  <div class="workflow-info">
    <div class="name-container">
      <div class="name-header">
        <h2>Workflow Name</h2>
        <button
          nz-button
          nzType="text"
          class="edit-name-button"
          title="Edit Name"
          (click)="onEditName()"
          *ngIf="this.isWorkspace">
          <i nz-icon nzTheme="outline" nzType="form"></i>
        </button>
      </div>
      <div *ngIf="!editingName" class="resource-name truncate-single-line">
        {{ workflowName }}
      </div>
      <input
        *ngIf="editingName"
        #nameInput
        class="resource-name-edit-input"
        [(ngModel)]="workflowName"
        (blur)="confirmUpdateWorkflowCustomName(workflowName)"
        (keydown.enter)="confirmUpdateWorkflowCustomName(workflowName)"
        (click)="$event.stopPropagation()"
        autofocus />
    </div>

    <div>
      <div class="owner-header">
        <h2>Created By</h2>
      </div>
      <div class="resource-owner">
        <p>{{ ownerName }}</p>
      </div>
    </div>
  </div>

  <div class="workflow-description">
    <h2>Description</h2>
    <p>{{workflowDescription}}</p>

  </div>

  <h2>Preview</h2>
  <div class="preview_image_containers"
       *ngIf="screenshot">
    <img
      class="screenshot-image"
      [src]="screenshot"
      alt="Workflow Screenshot" />
  </div>

  <div class="preview-containers"
       *ngIf="!screenshot">
    <ng-container>
      <texera-workflow-editor></texera-workflow-editor>
      <texera-mini-map class="box"></texera-mini-map>
    </ng-container>
  </div>

  <ng-template #codeEditor></ng-template>

  <div class="workflow-steps">
    <h2>Steps</h2>
    <div
      *ngFor="let step of workflow.steps"
      class="workflow-step">
      <h3>{{ step.name }}</h3>
      <p>{{ step.description }}</p>
      <p><strong>Status:</strong> {{ step.status }}</p>
    </div>
  </div>
</div>
