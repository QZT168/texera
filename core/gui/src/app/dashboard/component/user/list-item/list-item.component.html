<nz-card 
  [nzBodyStyle]="{padding: '16px'}"
  class="list-item-card">
  <div 
    [routerLink]="entryLink"
    class="card-content">
    <div class="avatar-section">
      <texera-user-avatar
        class="user-avatar"
        googleAvatar=""
        userColor="#1E90FF"
        [userName]="entry.ownerName || 'User'">
      </texera-user-avatar>
      <div class="type-icon-div">
        <i
          nz-icon
          [nzType]="iconType"
        ></i>
      </div>
    </div>
    <div class="resource-info">
      <h3>{{ entry.name }} <em>#{{ entry.id }}</em></h3>
      <p class="resource-metadata">
        {{ entry.type }} • {{ entry.creationTime | date:'short' }} • by {{ entry.ownerName || 'User' }}
      </p>
      <p class="resource-description">
        {{ entry.description || "Empty Description"}}
      </p>
    </div>
  </div>
  <div 
    *ngIf="isPrivateSearch"
    class="kebab-menu">
    <a nz-dropdown nzTrigger="click" [nzDropdownMenu]="menu">
      <i nz-icon nzType="more" nzTheme="outline"></i>
    </a>
    <nz-dropdown-menu #menu="nzDropdownMenu">
      <ul nz-menu>
        <li
          class="dropdown-item"
          nz-menu-item
          (click)="onClickOpenShareAccess()">
          <i
          nz-icon
          nzTheme="outline"
          nzType="share-alt"></i>
          Share
        </li>
        <li
          *ngIf="entry.type==='workflow'"
          class="dropdown-item"
          nz-menu-item
          (click)="duplicated.emit()">
          <i
          nz-icon
          nzTheme="outline"
          nzType="copy"></i>
          Copy</li>
        <li
          *ngIf="entry.type==='workflow'"
          class="dropdown-item"
          nz-menu-item
          (click)="onClickDownload()">
          <i
          nz-icon
          nzType="cloud-download"
          nzTheme="outline"></i>
          Download</li>
        <li
          class="dropdown-item"
          nz-menu-item
          (nzOnConfirm)="deleted.emit()"
          nz-popconfirm
          nzPopconfirmTitle="Confirm to delete this workflow."
          >
          <i
          nz-icon
          nzTheme="outline"
          nzType="delete"></i>
          Delete</li>
      </ul>
    </nz-dropdown-menu>
  </div>
</nz-card>
