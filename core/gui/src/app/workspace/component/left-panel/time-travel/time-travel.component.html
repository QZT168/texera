<!-- execution-timeline.component.html -->
<div class="executions-container">
  <!-- Loop over each execution to create its own timeline -->
  <div class="execution-section" *ngFor="let execution of executionList">
    <!-- Execution header -->
    <div class="execution-header" (click)="toggleRow(execution.eId)">
      <h3 class="execution-title">
        EID: {{ execution.eId }}
        <small>({{ execution.startingTime | date: 'short' }})</small>
      </h3>
    </div>

    <!-- Only render the timeline if the execution is expanded -->
    <div class="custom-timeline" *ngIf="expandedRows.has(execution.eId)">
      <!-- Loop over interactions for this execution -->
      <div class="timeline-item" *ngFor="let interaction of interactionHistories[execution.eId]">
        <!-- Dot on the vertical line -->
        <div class="timeline-dot"></div>

        <!-- The main content for the interaction -->
        <div class="timeline-content">
          <div class="timeline-header">
            <!-- Interaction Title (Could be more descriptive) -->
            <span>{{ interaction }}</span>
            <!-- Example button: revert or handle the interaction -->
            <button
              [disabled]="
                execution.eId === revertedToInteraction?.eid &&
                interaction === revertedToInteraction?.interaction
              "
              (click)="onInteractionClick(execution.vId, execution.eId, interaction)"
            >
              Revert
            </button>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
