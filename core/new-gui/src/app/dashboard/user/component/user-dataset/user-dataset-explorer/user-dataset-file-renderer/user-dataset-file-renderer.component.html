<div
  [ngStyle]="!isMaximized ? {'padding-top': '15px', 'margin-left': '30px', 'width': '100%', 'height': '80%', 'overflow-y': 'scroll'}:
                                {'padding-top': '15px', 'margin-left': '30px', 'width': '100%', 'height': '100%', 'overflow-y': 'scroll'}">
  <div class="file-display-area">
    <div *ngIf="isLoading">
      <mat-progress-spinner mode="indeterminate"></mat-progress-spinner>
    </div>
    <pdf-viewer
      *ngIf="displayPdf && fileURL"
      [src]="fileURL"
      [render-text]="true"
      [original-size]="false"
      style="width: 90%; height: 90%; margin: auto">
    </pdf-viewer>
    <nz-table
      *ngIf="displayCSV"
      #basicTable>
      <thead>
        <tr>
          <th *ngFor="let column of csvHeader">{{ column }}</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let row of csvContent">
          <td *ngFor="let cell of row">{{ cell }}</td>
        </tr>
      </tbody>
    </nz-table>

    <div *ngIf="displayImage && fileURL && imageFileURL">
      <img
        [src]="imageFileURL"
        alt="{{filePath}}"
        (click)="toggleImageModal()"
        style="width: 50%; height: 70%; margin: auto" />
    </div>

    <!-- Full-size image modal -->
    <div
      *ngIf="showImageModal"
      class="image-modal"
      (click)="toggleImageModal()">
      <img
        [src]="imageFileURL"
        alt="{{filePath}}"
        class="full-size-image" />
    </div>
    <div *ngIf="displayMarkdown">
      <markdown [data]="textContent"></markdown>
    </div>
    <div *ngIf="displayPlainText">{{ textContent }}</div>
    <div *ngIf="isFileLoadingError">
      <h3>File loading encounters error</h3>
    </div>
  </div>
</div>
