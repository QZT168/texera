<div *ngIf="errorMessages">
  <div *ngFor="let item of errorMessages | keyvalue">
    <div class="error-message">{{ item.key }}:{{ item.value }}</div>
  </div>
</div>

<cdk-virtual-scroll-viewport itemSize="10" class="infinite-container">
  <nz-list nzSize="small">
    <nz-list-item *cdkVirtualFor="let entry of consoleMessages">
    <span><nz-tag
      [nzColor]="workerColorMapping.get(this.workerIdToAbbr(entry.workerId))"> {{this.workerIdToAbbr(entry.workerId)}}</nz-tag>  <nz-badge
      [nzStatus]="statusMapping.get(entry.level)"></nz-badge> <span class="console-message">
      {{ entry.message }}
    </span>
    </span>

    </nz-list-item>
  </nz-list>
</cdk-virtual-scroll-viewport>

<nz-input-group nzCompact [nzAddOnBefore]="addOnBeforeTemplate">
  <input type="text" nz-input [(ngModel)]="command" (keyup.enter)="submitCommand()"/>
</nz-input-group>

<ng-template #addOnBeforeTemplate>
  <nz-select [(ngModel)]="targetWorker">
    <nz-option *ngFor="let worker of workers" [nzLabel]="worker" [nzValue]="worker"></nz-option>
    <nz-option [nzLabel]="'All Workers'" [nzValue]="'All Workers'"></nz-option>
  </nz-select>
</ng-template>
